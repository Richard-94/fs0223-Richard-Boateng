

<nav class="navbar navbar-expand-lg navbar-light bg-light mb-3">
	<div class="container-fluid ">
    <li role="presentation" routerLinkActive="active"
    [routerLinkActiveOptions]="{exact:true}">
      <a class="navbar-brand mt-0" [routerLink]="['/']">Recipe Book</a>

    </li>


		<button class="navbar-toggler" type="button" (click)="isMenuCollapsed = !isMenuCollapsed">&#9776;</button>


		<div [ngbCollapse]="isMenuCollapsed" class="collapse navbar-collapse align-items-center">
      <div class="col">
        <ul class="navbar-nav">
          <li role="presentation" class="nav-item active" routerLinkActive="active">

            <a class="nav-link" [routerLink]="['/emails','recipe']" (click)="isMenuCollapsed = true">Recipes</a>
          </li>
          <li role="presentation" class="nav-item" routerLinkActive="active">
            <a class="nav-link" [routerLink]="['/emails','shopping-list']" (click)="isMenuCollapsed = true">Shopping List</a>
          </li>
        </ul>
      </div>


      <ul>
        <div class="row">
          <div class="col m-0">
            <div ngbDropdown class="d-inline-block">
              <button type="button" class="btn btn-outline-primary" id="dropdownBasic1" ngbDropdownToggle>
                Manage
              </button>
              <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                <button ngbDropdownItem (click)="onSaveData()">Save Data</button>
                <button ngbDropdownItem (click)="onFetchData()">Fetch Data</button>

              </div>
            </div>
          </div>


        </div>
      </ul>
		</div>
	</div>
</nav>

<div class="row">
  <div class="col-xs-12">
    <form  [formGroup]="recipeForm" (submit)="onSubmit()">

      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" formControlName="name" class="form-control" id="name">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="imagePath">Image Url</label>
            <input type="text" formControlName="imagePath" class="form-control " id="imagePath" #imagePath>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <img [src]="imagePath.value" class="w-25 text-center" alt="">
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="description">Description</label>
            <textarea type="text" formControlName="description" rows="6" class="form-control" id="description"></textarea>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12" formArrayName="ingredients">
          <div class="row mt-5 mb-5" *ngFor="let ctrlIngredient of recipeIngredients.controls; let i = index"
            [formGroupName]="i">

            <div class="col-xl-8">
              <label for="ingredients">Ingredients</label>
              <input type="text" formControlName="ingredients" class="form-control">
            </div>

            <div class="col-xl-2">
              <label for="amount">Amount</label>
              <input type="number" formControlName="amount" class="form-control">
            </div>

            <div class="col-xl-2">
              <button class="btn btn-danger">X</button>
            </div>

          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-xs-12">
            <button type="button" (click)="onAddIngredient()" class="btn btn-success">Add Ingredients</button>
          </div>
        </div>
      </div>


      <div class="row text-center">
        <div class="col-xs-12">
          <button
           [disabled]="!recipeForm.valid" type="submit" class="btn btn-success me-5">Save</button>
          <button type="submit" class="btn btn-danger" (click)="onCancel()">Cancel</button>
        </div>
      </div>
    </form>
  </div>
</div>






